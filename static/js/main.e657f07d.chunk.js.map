{"version":3,"sources":["components/Header.js","helpers/ProtectedRoute.js","App.js","index.js","constants/routes.js"],"names":["Header","userAuth","useState","adminPage","setAdminPage","loginPage","setLoginPage","history","useHistory","location","useLocation","useEffect","pathname","includes","className","to","ROUTES","onClick","localStorage","clear","go","ProtectedRoute","children","rest","render","React","cloneElement","state","from","Admin","lazy","AdminEditPost","AdminNewPost","Home","Login","NotFound","Post","Signup","App","getItem","fallback","path","component","exact","ReactDOM","StrictMode","document","getElementById","ADMIN","ADMIN_NEW_POST","ADMIN_EDIT_POST","HOME","LOGIN","POST","SIGNUP"],"mappings":"8MAoEeA,EAhEA,SAAC,GAAkB,IAAhBC,EAAe,EAAfA,SAEd,EAAkCC,oBAAS,GAA3C,mBAAOC,EAAP,KAAkBC,EAAlB,KACA,EAAkCF,oBAAS,GAA3C,mBAAOG,EAAP,KAAkBC,EAAlB,KAEIC,EAAUC,cAOVC,EAAWC,cAkBf,OAhBAC,qBAAU,WACFF,EAASG,SAASC,SAAS,SAC3BT,GAAa,GAEbA,GAAa,KAElB,CAACK,IAEJE,qBAAU,WACFF,EAASG,SAASC,SAAS,SAC3BP,GAAa,GAEbA,GAAa,KAElB,CAACG,IAGA,sBAAKK,UAAU,kHAAf,UACI,qBAAKA,UAAU,uCAAf,SACI,cAAC,IAAD,CAAMC,GAAIC,IAAV,qBAEHf,GACD,sBAAKa,UAAU,OAAf,UACI,wBAAQA,UAAU,wIAAlB,SACI,cAAC,IAAD,CAAMC,GAAIC,IAAV,yBAEFb,GACF,wBAAQW,UAAU,sIAAlB,SACI,cAAC,IAAD,CAAMC,GAAIC,IAAV,qBAGHb,GACD,wBAAQW,UAAU,sIAAlB,SACI,cAAC,IAAD,CAAMC,GAAIC,IAAV,oBAGJ,wBAAQF,UAAU,+HAA+HG,QAAS,kBA1ClKC,aAAaC,aACbZ,EAAQa,GAAG,IAyCH,wBAKFnB,IAAaI,GACX,wBAAQS,UAAU,sIAAlB,SACI,cAAC,IAAD,CAAMC,GAAIC,IAAV,yB,0CC9BLK,EA3BQ,SAAC,GAAqC,IAAnCpB,EAAkC,EAAlCA,SAAUqB,EAAwB,EAAxBA,SAAaC,EAAW,iBAExD,OACI,cAAC,IAAD,2BACQA,GADR,IAEIC,OAAQ,YAAmB,IAAhBf,EAAe,EAAfA,SACP,OAAIR,GAAyB,OAAbA,EAELwB,IAAMC,aAAaJ,EAAU,CAAErB,aAGrCA,GAAyB,OAAbA,EAUV,KARC,cAAC,IAAD,CACIc,GAAI,CACAH,SAAUI,IACVW,MAAO,CAAEC,KAAMnB,WCVzCoB,EAAQC,gBAAK,kBAAM,sDACnBC,EAAgBD,gBAAK,kBAAM,gCAC3BE,EAAeF,gBAAK,kBAAM,gCAC1BG,EAAOH,gBAAK,kBAAM,uDAClBI,EAAQJ,gBAAK,kBAAM,gCACnBK,EAAWL,gBAAK,kBAAM,iCACtBM,EAAON,gBAAK,kBAAM,gCAClBO,EAASP,gBAAK,kBAAM,gCAkCXQ,EAhCH,WAEV,MAAgCpC,oBAAS,WAEvC,QADagB,aAAaqB,QAAQ,eADpC,mBAAOtC,EAAP,UAKA,OACE,cAAC,IAAD,UACE,eAAC,WAAD,CAAUuC,SAAU,4CAApB,UACE,cAAC,EAAD,CAAQvC,SAAUA,IAClB,eAAC,IAAD,WACE,cAAC,IAAD,CAAOwC,KAAMzB,IAAa0B,UAAWT,EAAMU,OAAK,IAChD,cAAC,IAAD,CAAOF,KAAMzB,IAAa0B,UAAWN,EAAMO,OAAK,IAChD,cAAC,IAAD,CAAOF,KAAMzB,IAAc0B,UAAWR,EAAOS,OAAK,IAClD,cAAC,IAAD,CAAOF,KAAMzB,IAAe0B,UAAWL,EAAQM,OAAK,IACpD,cAAC,EAAD,CAAgB1C,SAAUA,EAAUwC,KAAMzB,IAAc2B,OAAK,EAA7D,SACE,cAACd,EAAD,MAEF,cAAC,EAAD,CAAgB5B,SAAUA,EAAUwC,KAAMzB,IAAuB2B,OAAK,EAAtE,SACE,cAACX,EAAD,MAEF,cAAC,EAAD,CAAgB/B,SAAUA,EAAUwC,KAAMzB,IAAwB2B,OAAK,EAAvE,SACE,cAACZ,EAAD,MAEF,cAAC,IAAD,CAAOW,UAAWP,aCvC5BS,IAASpB,OACP,cAAC,IAAMqB,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,U,+BCT1B,8OAAO,IAAMC,EAAQ,SACRC,EAAiB,kBACjBC,EAAkB,aAClBC,EAAO,IACPC,EAAQ,SACRC,EAAO,aACPC,EAAS,Y","file":"static/js/main.e657f07d.chunk.js","sourcesContent":["import { useEffect, useState } from \"react\";\nimport { Link, useHistory, useLocation } from \"react-router-dom\";\nimport * as ROUTES from \"../constants/routes\";\n\nconst Header = ({ userAuth }) => {\n\n    const [adminPage, setAdminPage] = useState(false);\n    const [loginPage, setLoginPage] = useState(false);\n\n    let history = useHistory();\n\n    const logout = () => {\n        localStorage.clear();\n        history.go(0)\n    };\n\n    let location = useLocation();\n\n    useEffect(() => {\n        if (location.pathname.includes(\"admin\")) {\n            setAdminPage(true)\n        } else {\n            setAdminPage(false)\n        }\n    }, [location]);\n\n    useEffect(() => {\n        if (location.pathname.includes(\"login\")) {\n            setLoginPage(true)\n        } else {\n            setLoginPage(false)\n        }\n    }, [location]);\n\n    return (\n        <div className=\"flex border-b items-center justify-between border-gray-500 h-4 p-4 py-10 pl-16 pr-16 sticky top-0 z-50 bg-white\">\n            <div className=\"flex items-center text-4xl font-bold\">\n                <Link to={ROUTES.HOME}>Blog.</Link>\n            </div>\n            {userAuth && (\n            <div className=\"flex\">\n                <button className=\"flex items-center bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 mr-2 rounded focus:outline-none focus:shadow-outline\">\n                    <Link to={ROUTES.ADMIN_NEW_POST}>New Post</Link>\n                </button>\n                {!adminPage &&\n                <button className=\"flex items-center bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 mr-2 rounded focus:outline-none focus:shadow-outline\">\n                    <Link to={ROUTES.ADMIN}>Admin</Link>\n                </button>\n                }\n                {adminPage &&\n                <button className=\"flex items-center bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 mr-2 rounded focus:outline-none focus:shadow-outline\">\n                    <Link to={ROUTES.HOME}>Home</Link>\n                </button>\n                }\n                <button className=\"flex items-center bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline\" onClick={() => logout()}>\n                    Logout\n                </button>\n            </div>\n            )}\n            {!userAuth && !loginPage && (\n                <button className=\"flex items-center bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 mr-2 rounded focus:outline-none focus:shadow-outline\">\n                    <Link to={ROUTES.LOGIN}>Login</Link>\n                </button>\n            )}\n        </div>\n    )\n}\n\nexport default Header;","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\nimport * as ROUTES from '../constants/routes';\n\nconst ProtectedRoute = ({ userAuth, children, ...rest }) => {\n\n    return (\n        <Route\n            {...rest}\n            render={({ location }) => {\n                if (userAuth && userAuth !== null) {\n                    // Using cloneElement to add / modify the props of its children.\n                    return React.cloneElement(children, { userAuth });\n                }\n                \n                if (!userAuth || userAuth === null) {\n                    return (\n                        <Redirect\n                            to={{\n                                pathname: ROUTES.LOGIN,\n                                state: { from: location }\n                            }}\n                        />\n                    );\n                }\n                return null;\n            }}\n        />\n    )\n}\n\nexport default ProtectedRoute;","import { lazy, Suspense, useState } from 'react';\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route\n} from \"react-router-dom\";\nimport Header from \"./components/Header\";\nimport * as ROUTES from './constants/routes';\nimport ProtectedRoute from './helpers/ProtectedRoute';\n\nconst Admin = lazy(() => import('./screens/Admin'));\nconst AdminEditPost = lazy(() => import('./screens/AdminEditPost'));\nconst AdminNewPost = lazy(() => import('./screens/AdminNewPost'));\nconst Home = lazy(() => import('./screens/Home'));\nconst Login = lazy(() => import('./screens/Login'));\nconst NotFound = lazy(() => import('./screens/NotFound'));\nconst Post = lazy(() => import('./screens/Post'));\nconst Signup = lazy(() => import('./screens/Signup'));\n\nconst App = () => {\n\n  const [userAuth, setUserAuth] = useState(() => {\n    const user = localStorage.getItem(\"userAuth\");\n    return !!user;\n  });\n\n  return (\n    <Router>\n      <Suspense fallback={<p>Loading ...</p>}>\n        <Header userAuth={userAuth} />\n        <Switch>\n          <Route path={ROUTES.HOME} component={Home} exact />\n          <Route path={ROUTES.POST} component={Post} exact />\n          <Route path={ROUTES.LOGIN} component={Login} exact />\n          <Route path={ROUTES.SIGNUP} component={Signup} exact />\n          <ProtectedRoute userAuth={userAuth} path={ROUTES.ADMIN} exact>\n            <Admin />\n          </ProtectedRoute>\n          <ProtectedRoute userAuth={userAuth} path={ROUTES.ADMIN_NEW_POST} exact>\n            <AdminNewPost />\n          </ProtectedRoute>\n          <ProtectedRoute userAuth={userAuth} path={ROUTES.ADMIN_EDIT_POST} exact>\n            <AdminEditPost />\n          </ProtectedRoute>\n          <Route component={NotFound} />\n        </Switch>\n      </Suspense>\n    </Router>\n  );\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);","export const ADMIN = '/admin';\nexport const ADMIN_NEW_POST = '/admin/new-post';\nexport const ADMIN_EDIT_POST = '/admin/:id';\nexport const HOME = '/';\nexport const LOGIN = '/login';\nexport const POST = '/posts/:id';\nexport const SIGNUP = '/signup';\nexport const NOT_FOUND = '/not-found';"],"sourceRoot":""}